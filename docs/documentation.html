
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Introduction &#8212; AxonDeepSeg 0.2 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to AxonDeepSeg !" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>AxonDeepSeg is an open-source software using deep learning and aiming at automatically segmenting axons and myelin
sheaths from the spinal cord tissue.</p>
<p>AxonDeepSeg was developed by NeuroPoly, the neuroimagery laboratory of Polytechnique Montréal.</p>
</div>
<div class="section" id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>The following lines will help you install all you need to ensure that AxonDeepSeg is working. Test data and
instructions are provided to help you use AxonDeepSeg.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">AxonDeepSeg isn’t compatible with Windows due to third-party dependencies.
AxonDeepSeg was tested with Mac OS and Linux.</p>
</div>
<div class="section" id="installing-python">
<h2>Installing python<a class="headerlink" href="#installing-python" title="Permalink to this headline">¶</a></h2>
<p>First, you should make sure that Python 2.7 is installed on your computer. Run the following command in the terminal:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">V</span>
</pre></div>
</div>
<p>The version of python should be displayed in the terminal. If not, you have to install Python 2.7 on your computer.
To do that, you can follow the instructions given on
<a class="reference external" href="https://wiki.python.org/moin/BeginnersGuide/Download">the official python wiki</a>.</p>
</div>
<div class="section" id="installing-virtualenv">
<h2>Installing virtualenv<a class="headerlink" href="#installing-virtualenv" title="Permalink to this headline">¶</a></h2>
<p><cite>Virtualenv</cite> is a Python package that allows you to create virtual environments where
you can sandbox environments with different package versions without affecting
your system packages. If you don’t have it installed, please follow the instructions
from the <a class="reference external" href="https://virtualenv.pypa.io/en/stable/installation/">virtualenv website</a>.</p>
</div>
<div class="section" id="creating-a-virtual-environment">
<h2>Creating a virtual environment<a class="headerlink" href="#creating-a-virtual-environment" title="Permalink to this headline">¶</a></h2>
<p>Before installing AxonDeepSeg, we will need to set up a virtual environment.
A virtual environment is a tool that lets you install specific versions of the python modules you want.
It will allow AxonDeepSeg to run with respect to its module requirements,
without affecting the rest of your python installation.</p>
<p>First, navigate to your home directory:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~</span>
</pre></div>
</div>
<p>We will now create a virtual environment. For clarity, we will name it ads_venv:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">virtualenv</span> <span class="n">ads_venv</span>
</pre></div>
</div>
<p>To activate it, run the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">ads_venv</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>If you performed all the steps correctly, your username in the console should now be preceded by the name of your
virtual environment between parenthesis, like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">ads_venv</span><span class="p">)</span> <span class="n">username</span><span class="nd">@hostname</span> <span class="o">/</span><span class="n">home</span><span class="o">/...</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-axondeepseg">
<h2>Installing AxonDeepSeg<a class="headerlink" href="#installing-axondeepseg" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Make sure that the virtual environment is activated before you run the following command.</p>
</div>
<p>We are now going to install the software AxonDeepSeg.</p>
<p>To install AxonDeepSeg, you just need to install it with <code class="docutils literal"><span class="pre">pip</span></code> using the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">axondeepseg</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you have an old Mac OS version (&lt;= 10.11), you need to manually install TensorFlow
dependency by following the instructions from
<a class="reference external" href="https://www.tensorflow.org/install/install_mac#the_url_of_the_tensorflow_python_package">TensorFlow website</a>.</p>
</div>
</div>
<div class="section" id="models">
<h2>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h2>
<p>Two models are available and shipped together with the installation package, so you don’t need to install them separately.
The two models are described below:</p>
<ul class="simple">
<li>A SEM model, that works at a resolution of 0.1 micrometer per pixel.</li>
<li>A TEM model, that works at a resolution of 0.01 micrometer per pixel.</li>
</ul>
</div>
<div class="section" id="acquisitions">
<h2>Acquisitions<a class="headerlink" href="#acquisitions" title="Permalink to this headline">¶</a></h2>
<p>If you want to test AxonDeepSeg, you can download the test data available
<a class="reference external" href="https://osf.io/rtbwc/download">here</a>.</p>
<p>The images you want to segment must be stored following a particular architecture:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">images_to_segment</span><span class="o">/</span>
<span class="o">--</span><span class="n">folder_1</span><span class="o">/</span>
<span class="o">----</span> <span class="n">your_image_1</span><span class="o">.</span><span class="n">png</span>
<span class="o">----</span> <span class="n">another_image</span><span class="o">.</span><span class="n">png</span>
<span class="o">----</span> <span class="o">...</span>
<span class="o">----</span> <span class="n">pixel_size_in_micrometer</span><span class="o">.</span><span class="n">txt</span> <span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The images must be saved in <strong>png format</strong>. You don’t have to specifically name them.</p>
</div>
<ul class="simple">
<li>The image file <em>image.png</em> is the image to segment.</li>
<li>The file <em>pixel_size_in_micrometer.txt</em> contains a single float number corresponding</li>
</ul>
<p>to the resolution of the image, that is the <strong>size of a pixel in micrometer</strong>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can also specify the size of a pixel as an argument to our software.</p>
</div>
</div>
<div class="section" id="using-axondeepseg">
<h2>Using AxonDeepSeg<a class="headerlink" href="#using-axondeepseg" title="Permalink to this headline">¶</a></h2>
<p>To learn to use AxonDeepSeg, you will need some images to segment. If you don’t have some,
you can download the test data using the instructions in the <cite>Acquisitions</cite> part of this tutorial.</p>
<p>Once you have downloaded the test data, go to the extracted test data folder. In our case:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">test_segmentation</span>
</pre></div>
</div>
<p>The script to launch is called <strong>axondeepseg</strong>. It takes several arguments:</p>
<ul>
<li><p class="first"><strong>t</strong>: type of the image. SEM or TEM.</p>
</li>
<li><p class="first"><strong>p</strong>: path to the image.</p>
</li>
<li><p class="first"><strong>s</strong>: (optional) resolution (size in micrometer of a pixel) of the image.</p>
</li>
<li><p class="first"><strong>v</strong>: (optional) verbosity level. Default 0.</p>
<blockquote>
<div><ul class="simple">
<li>0 displays only a progress bar indicating the advancement of the segmentations.</li>
<li>1 displays additionally the path of the image that was just segmented.</li>
<li>2 displays additionally information about the current step of the segmentation of the current image.</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>To segment one of the image that we downloaded (here, a SEM image), run the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">axondeepseg</span> <span class="o">-</span><span class="n">t</span> <span class="n">SEM</span> <span class="o">-</span><span class="n">p</span> <span class="n">test_sem_image</span><span class="o">/</span><span class="n">image1_sem</span><span class="o">/</span><span class="mf">77.</span><span class="n">png</span> <span class="o">-</span><span class="n">v</span> <span class="mi">2</span> <span class="o">-</span><span class="n">s</span> <span class="mf">0.07</span>
</pre></div>
</div>
<p>The script will use the size argument (here, 0.07) for the segmentation. If no size is provided in the arguments,
it will automatically read the image resolution encoded in the file: <em>pixel_size_in_micrometer.txt</em>
The different steps will be displayed in the terminal thanks to the verbosity level set to 2.
The segmented acquisition itself will be saved in the same folder as the acquisition image,
with the prefix ‘<a href="#id1"><span class="problematic" id="id2">segmentation_</span></a>’, in png format.</p>
<ul class="simple">
<li>To segment multiple images acquired with the same resolution, put them all in the same folder and</li>
</ul>
<p>launch the segmentation of this folder, like below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">axondeepseg</span> <span class="o">-</span><span class="n">t</span> <span class="n">SEM</span> <span class="o">-</span><span class="n">p</span> <span class="n">test_sem_image</span><span class="o">/</span><span class="n">image</span> <span class="mi">1</span><span class="n">_sem</span><span class="o">/</span>
</pre></div>
</div>
<ul class="simple">
<li>To segment multiple images acquired with different resolutions,</li>
</ul>
<p>please use the folder structure explained above in the <cite>Acquisitions</cite> part,
i.e., put all image with the same resolution in the same folder.
* Then, segment each folder one after the other using the argument <strong>-s</strong> or segment all folders in one command
by specifying multiple paths to segment and using a different pixel_size_in_micrometer.txt for each folder, like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">axondeepseg</span> <span class="o">-</span><span class="n">t</span> <span class="n">SEM</span> <span class="o">-</span><span class="n">p</span> <span class="n">test_sem_image</span><span class="o">/</span><span class="n">image1_sem</span> <span class="n">test_sem_image</span><span class="o">/</span><span class="n">image2_sem</span><span class="o">/</span>
</pre></div>
</div>
<p>Here, we segment all images located in image1_sem and image2_sem that don’t have the “segmented” suffix.</p>
<p>Each output segmentation will be saved in the corresponding sub-folder.</p>
</div>
</div>
<div class="section" id="licensing">
<h1>Licensing<a class="headerlink" href="#licensing" title="Permalink to this headline">¶</a></h1>
<p>MIT.</p>
</div>
<div class="section" id="acknowledgements">
<h1>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this headline">¶</a></h1>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=neuropoly&repo=axondeepseg&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-python">Installing python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-virtualenv">Installing virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-virtual-environment">Creating a virtual environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-axondeepseg">Installing AxonDeepSeg</a></li>
<li class="toctree-l2"><a class="reference internal" href="#models">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="#acquisitions">Acquisitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-axondeepseg">Using AxonDeepSeg</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#licensing">Licensing</a></li>
<li class="toctree-l1"><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to AxonDeepSeg !</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, NeuroPoly.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/documentation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/neuropoly/axondeepseg" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>